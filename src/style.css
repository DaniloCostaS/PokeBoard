/* ==========================================================================
   1. CONFIGURA√á√ïES GERAIS E VARI√ÅVEIS
   ========================================================================== */
:root {
    --bg-body: #2c3e50;
    --bg-panel: #f4f6f7;
    --highlight: #3498db;
    --gold: #f1c40f;
    --danger: #e74c3c;
    --card-bg: #e67e22; /* Adicionado para card-display */
    
    /* Cores Auxiliares */
    --tile-path: #bdc3c7;
    --bg-npc-rocket: #2c3e50;
    --bg-npc-biker: #e67e22;
    --bg-npc-young: #f1c40f;
    --bg-npc-old: #95a5a6;

    /* Texturas (Base64 compactadas para leitura) */
    --bg-grass-img: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAF5SURBVDhPdZM9TsNAEIV9BJccIyUlx/AFEJQ0dhSHA1Dmt8+/BFKEf4KEhBQldkMBJFEKRMdNBs1u3jJeb4onr73vfTsztr3H7zUNDyuh3GiwhzKnFsc38jh09z5SukoezBr3l51G7RnWg12mAXZQhke/mxoEui/nDMjVDZsgDrM4DIACBr72BP6pgpS8wSGni9GtMSOA0w088KuewKd2OdMANrkgKJXNaBNh3m8XDNhnxsgQ2aMsHW3JNvtfzxrAQQgG11zUyUI9BjRXcaV0GZTlyzagaHhDXrucVwbGkqXiNLRgWgl8ircT8vq71ARcJgzMBvI6SiMGJGdPPauTr7UdawDClRZgFCFZGV+7n0sNqIVlyYA43khrMyYvLmfOsiuzcOyzwiTUgHOnVsL2fqehAT0xxBrIGhoLPs50P5b/AEDkhwKg/QxrNUQG2EEZtn8sKfUaZ8dX9U1HWdMoLqYUFxN6+lkr8QfD5nB4TWEaqiufPt2/0B+uIRJ3+13aXgAAAABJRU5ErkJggg==');
    --bg-water-img: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAeABwDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAABAYAAwUC/8QAGAEAAwEBAAAAAAAAAAAAAAAAAgMEBgf/2gAMAwEAAhADEAAAAZVaD0PNltSU3Tlhi7ZRKU2zhmlf/8QAIBAAAgIBBAMBAAAAAAAAAAAAAQMCBQAEEBEUEhUjJP/aAAgBAQABBQJ7WB3YaMGqbla09d48pbVI50xP0ks7VR/N6xk3Rqp8GplLK2sCtP8A/8QAGhEAAgMBAQAAAAAAAAAAAAAAAAIBESEDMf/aAAgBAwEBPwG7F9wlWhsOas81B//EABoRAAIDAQEAAAAAAAAAAAAAAAECAAQSAxH/2gAIAQIBAT8BUAiWFGJsCW7CJz9af//EACUQAAIBAQUJAAAAAAAAAAAAAAABAhEQISJBcgMSMTIzUWKBkf/aAAgBAQAGPwKeOXHudSX0vnJ+x4m8RN51dr1G0Xkyqseom9+KvL5o5olHPM//xAAiEAACAQMDBQEAAAAAAAAAAAAAAREhMXFRobEQQWGRwdH/2gAIAQEAAT8hS8anFeolIXsCVgyHO5l3gp7QrfrKvL4YJyE51FoWHLI4QkXU4vrgQqTL9ufg9vNt3RH/2gAMAwEAAgADAAAAEBbJ3//EABgRAQEBAQEAAAAAAAAAAAAAAAEAETFB/9oACAEDAQE/EOo+QTUQNzRjf//EABcRAQEBAQAAAAAAAAAAAAAAAAERACH/2gAIAQIBAT8QC0wak6Y6R1eTpv/EACAQAQADAAIBBQEAAAAAAAAAAAEAESExQdEQUWFxocH/2gAIAQEAAT8QKYGYMtXcqhny39jLaunL9iJrS3UzEoJYw7Beo2ieOBdVqfbVDbk3TmIpEpMSBY0TLZA9FduYol35L8R2kg43aLiLck4Dv6n/2Q==');
    --bg-ground-img: url('data:image/jpeg;base64,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');
    --bg-city-img: url('data:image/jpeg;base64,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');
    --bg-gym-img: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCABRAHMDASIAAhEBAxEB/8QAGwABAAIDAQEAAAAAAAAAAAAAAAQFAwYHAgH/xAAbAQABBQEBAAAAAAAAAAAAAAAAAQIDBAUGB//aAAwDAQACEAMQAAAB6fA9U3P3rZTqU1wpwXCnBcKcFwpwXEevhyt3FQtytli2NdQd5GPcAAAAAEOZDnZAenofPbfUU+qcxqdDc6KnRXPPkUnRHPQdCc98h0Rzv5JH0WFo9ki3bMuTbRX58V/Ihth+OdCo9q1arNd7Bok3On8I3mxHZxZLYz419VWDX66yM3YsctX8XnLD5A8PislZEWz7rbTDtVLvHVS8i/bqvDHSuvlV8QlMiHoqmOLICtZgduucdzFBQDd/GCYBdhBH/8QAJhAAAQUAAQMEAwEBAAAAAAAAAQACAwQFERIUFQYTIjEkMjMjNP/aAAgBAQABBQKnJ3Fx2nYDjqWUdSyjqWUdSyjqWUdSyjqWUdSyjqWUdSyjqWVZ1pWMxbLps3FfFJYkHzLUWotRai1FqLUWotRai1XViX4Ic30s3oEg+Zai1FqLUWotRai1FqLUWq6s9vNX06OHSD5lqLUWotRai1FqLUWotRarqzpGtq4x7dzi15PBR4KPBR4KPBR4KPBR4KPBR4KPBVwgrOe0VZvcbN+zm8OTeHIN5XHy6F0LoTR1NA5LeHJvDlVMjWUBGyriw874pPZLVzpq6q501dVqftRFsYv0KtfpsU4SmRxRWMaJrssUnslq501dVc6auoKYiwaj2ivlgjck7p78+J9yStVsWBHDKKPfmtbrepW15HeroXMq7zWy5zLIpfluX5bl+W5f7yYtMx9vGZ6FvyM6N+Ynvpl30yyrjPMCq2ezm0vcWbLXq41K9Kyr5KZeSmXkplJftWKw9uAeSqQlu7ULRs03IbVIjzNQqPXrx2I+8ifWiu1V3MtGnHrU4Ixs03LzdQhmzTc0bVIiOSKyyT+gTfoJn0z9YP4rWTvtv0E36Cp/8/8/8QAKxEAAgECAwYFBQAAAAAAAAAAAQIAAxIEERQQITFRYaETMkFTsSAiM3Hw/9oACAEDAQE/AaajMyxeUsXlLF5SxeUsXlGUAbhFH2iYXO3f9T8IVqZ7gYa6UszNan8Zqek1PSanpNag4/M1SPui+USoAc8x6n5iYbxASAO0VDSq2vHandxExLKd6wqu/dFUA8IvCVGxS1GApkjM+hl+M9rsZh3rX5VqZA/RlRVZmKsMj1EqMfDXTqW7/EvxntdjL8Z7XYyjd4a3cctoj+YzD/iGwbP/xAApEQABAwIDCAIDAAAAAAAAAAABAAIDERMxUqEEBRIVIFFi4SEyFCKR/9oACAECAQE/Adpc5tKFXZMyuyZldkzK7JmV2TMo3uc6jing8RW86XjTueqH7oWafJC/Bk2o9lyZ/fRcq89Pa5X56e1yvz09obmecHaI7rkh/cfOid9ioSeEUKM3DiTqtoJkhPAoY5xHQtP8W72SMqJBRBx76lEkjFHFNlLRRX3ISlyj2uNrWgnBSS0cSFfcrzug9X//xAA/EAABAgMFBAYHBwIHAAAAAAABAAIDETEEEiGh4RMyUZEiM3Hw/9oACABAQAGPwK147rwwd2DfMrA4e7RV8Oir4dFXw6Kvh0VfDoq+HRV8Oir4dFXw6JoHD3FQnOMzNw8RVudB3Nv8mTRwy0VMtFTLRUy0VMtFTLRUy0VMtFTLRUy0VMtFC/nBMY98nBz8JfmKtgp+IP8A5Rwy0VMtFTLRUy0VMtFTLRUy0VMtFTLRUy0VMtFTLRQv5wQ6APSd/cVbf9R9COGWiploqZaKmWiploqZaKmWiploqZaKmWiploqZaKF/OCAImfaf/cVbjEcAGxhj8GK8HMIPeFVnMeSqzmPJVZzHkqs5jyVWcx5KrOY8lVnMeSqzmPJVZzHkqs5jyUOvDlM94Qnd3neyP8xUWDBY+Jf9LJhpKTe33DmndB5M8cGoyhvwMqNRlDfgZUyurfyc1LZun/2q6p/Ji6p/Ji6p/JiBEN8j3NR9G/DuajKG/Ayo1GUN+BlRq6t/JzUIrBeh944t7e1aIjg+H/2bx/0r7GtiN/NC6QTRFiNhXjIXyBNF7JtIYrLgrOSPZUZzYcB7XuvC/EcCMAL3YKNNlmftIhf1rxLu3VGmyzP2kQv614l3bq+1b4bf2MQ9AkjG8U2d3/iEDCOzu2d2PZvCvcsJwhL2Lrv+5JsGKTAN3F+GJ4BQvRWpt6JcM5C5QzM2jv5d6daIjY0J4cG7CNKbsBOWAvHlytnoYjtqGUUyJT81ebDfwIulObBsxhzwcWt0QiMgxH3eDSoLWuLWtbLogGfNCc4fRG6GumUJzh9Eboa6ZQnOH0RuhrolfaDYnQ9AZ3TMu6J5BMvRADwupFphXHxGAsLOxzJ0XqmD+6PpXqxo91pl8l6tH9UfJerR/VHyUf8AxFnEFpgGfTvgbtVanQ4d9l8AFlN1qtXonGUdw7Vb5taY4ZG6I3quTQ37MhRAPaMXv/SvVMH94fSvVMH94fSvVMH94fSotmbZIVkZG6MR4fe6PCiuCWHEAp7DFDDDqCp7fCuLSnHbjDEzU9thWhRlGbIccELTZ4jHPe0w3w4uDXt7QZ07FFLLLZmNe69dcL0sAOI4KLdhWd20iGIbzKT/ANyjQ4sKDZxHLmvjjElrjMtA/nzQYI4ut7k47cYYmamIwlWZBRO2AlWanti0KEBkQFu/Ioq+CcvgnfdD/SPuge8/JH3Jy+Ccvgmr/8QAJhAAAQQBAwQCAwEBAAAAAAAACAEDBAUGBxEwEhMxQCEQFCIVQf/aAAgBAQABPxEgmbUMkjP9BHQBsv8AZAGiQDRIBokA0SAaJANEgGiQDRIBokA0TqB/gcBmDbozacPsD6RxHMWLETuOXTtj+clNiOqzYjqszYjqszYjqszYjqszYjqszYjqszYjqszYjqsPH7USl5OLgbZK7Y/nJTYjqs2I6rM2I6rM2I6rM2I6rM2I6rM2I6rDx+1eG4yyDDEOUO2P5yU2I6rNiOqzNiOqzNiOqzNiOqzNiOqzNiOqzNiOqw8ftQ0Qa0BdiwKAjVmAA2dITcQQE3EEBNxBATcQQE3EEBNxBATcQQE3EEBNxBATcQQKCwJc7IDxO1yewqa/gYwc4JcHDkHgzXrBshtv7VuJm6rcTN1MXG0gCSjACRu/8/SEIBMoDgpAAHiY4X+1biZuq3EzdQjZgGBjvA8kZxmRY5G25QmysUYCDoB4W0HIxR7aovBx7S2WrReDj2lstWgSdLZDpABIB12Vg+m8fZOhBGVQTiEhZQI1KJmlYEQAT3i5ZOmmdE/oJ38oPC2g5GKPXqi8HHtLZatF4OPaWy1ajU46GAAJAO2iBpOmya8lHOlPF3TsMk+KcHRSkKgHTO7gpvjDdV5DdaHKMRr2qSGZjMAhxCAanANy4ZQfBIAlDHI9HKYB7YiYqbH+Su+KBOEd1+R5Usw1tMLui/nL2DI3TQDzAS5DeEbpoB5gJchvCN00A8wEuQ3hGAxfmISHYs+hch3DchOp1ZO9Udgc6WhgTxrIIM+ko5MI4eh+axY0JdRTWkiAw55TOIEL+EicBsQZoQhCkBAxs1DDVPjqgufL9ChQoGTVjGWFwDLdnzVgAjCN6eyUY5YMN8E3gIEAWjgPI6QXdwJHyJTLjCwo9IOYQXJE5CRaCJhIkQHAaBLjWQWwgBk0yK1W91pu0DZCEoXGosFw7tZYDSjecmXEGZlpmUF3cCR8iVoyIFDzoiKb3ASPkSeAmXGFhR6VeQSfDULvFV811lXzXQVS/kbfin4Jesq+a6yr5r5fyV//aAAgBAwEBPwDoEEEEET0IMMMMNYJcA400Nf6Q8NjI44BjHizLWPJ78Pz3/wA9/8QAJREAAgEEAQMFAQEAAAAAAAAAAREAITFBYZFRgfBxocHR4RAg/9oACAEDAQE/ECQkWPyZocTQ4mhxNDiaHEZACCoDAgAIvQf+rsLIod4UIcl4SJEIW1TSASGPf+Txf5PF/kJBCBXgEFxurUPgEMV3cyhTGAu069V0lNAV6j4YhzihsU+u14ABGNS7CbOgr9wlIB+grCp9I6cAF1CTkYmz57hNLNwDklgd8rEeLFGxbrB3JkgEGq1ovapPXEIs/Pc6ZAzQPEbu0G9zAgxMZ7o/wjEwhvP/xAAmEQEAAgEDAwQCAwAAAAAAAAABABEhMWGBEEGRUXHR8KGxIMHh/9oACAECAQE/EHUxf+TeeWbzyzeeWbzyzeeWH2p7sEQYtiSuzBWlX/LT5/UdGR3yRT7DSi1wW1ehpB6p53/MaKMlZKyACjenr/MEtV2Ey9lahtN2EwGOyn6jMPK/o4lJ7XTXOeH7cXgreLN+3rZjLjUgjyxre/qswaZwV+ccQxaeVrh0hyhYVNg+8zCNHz5mVEMxUA2te3zNg+8xYrEu89Hv0GnR7x6f/8QAJRABAAEEAwEAAgIDAQAAAAAAAREAITFBYXHwUaGxEIEgkcHR/9oACAEBAAE/EBsbspSgRAyJicZhAzobC0fJkY5V+s0ABrDMdk6oCBrDjsnVAQNYcdk6oCBrDjsnVAQNYcdk6oCBrDjsnVAQNYcdk6oCBrDjsnVAQNYcdk6oCBrDjsnVAQMQOOzih8EwsokUnVs5GRgfLVuShMqKsC63oEBkJBGwDj3qWZovfo3/wBmpjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7RijZiIdoiP6j9HVUkl2WJYuEYSnRKGhEXVrupZmi9+jf/AGamOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7RijZiIdoiP6j9HVChL2x7qcVIYfiIeoqWZovfo3/wBmpjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7Ripjl3NOXtGKmOXc05e0YqY5dzTl7RijZiIdoiP6j9HVDLcq1U0CCPHgWzBB9UvdagD4k0IIZn+2hqJYvoA+vfMUNRLF9AH175ihqJYvoA+vfMUNRLF9AH175ihqJYvoA+vfMUNRLF9AH175ihqJYvoA+vfMUNRLF9AH175ihqJYvoA+vfMUNRLF9AH175ihqJYvoA+vfMUm4iICUOPsMWMNGdGUb7xfxUYQxVM59BARWE0YZCpiyC5W9gzzTUOpb4AKXeSmodS3wAUu8lGixLLYMO/pQTTGREg55f6qXg/dS8H7qXg/dBudGZEkc0mxC8bCGfg/3TUOpb4AKXeSmodS3wAUu8lPigSPpAFg+mOCrx2iRHykxt+DFCQS34CESMQJbsM3WlNJJcOWTJGVtKUb82AQWYNl2aUb82AQWYNl2akggg0mFQAlFx7qZeSaBXFBbgxGblhR1FFpe4iCDY5XRTP8EpMoJKW6SbEZpECfQAgssluDZMkN9JZG3NKaSS4csmSMraUo35sAgswbLs0o35sAgswbLs0jYyA1giBFxKObNCFG8bz2L+KjgzNjEmCAyytEARJgIBSSSqC2BJRW47RtktriroCBkE+boXA4momUErBCGUsIK0YCZlZIUnUnrjKcFKNuWRhSR9IlkRBh1cJ/43nZVsGZsEN3MpOqnQ4sCCQKEEXICL2Gh4UJ5z2foGZzbFHvtBzM7FpHNHvtBzM7FpHNHvtBzM7FpHNNDEGCBsAIwytpLKHwa8UxXKbVN8w4BRMxS5slSjAQoJUtExf+5Tq/6h6AH9H8167ZzfUggtInwIGM1LzUIYZDHKz3Vjz9nfYjZO70SqSpbvQCVYDoS0u7UKzI2WLvz/CDBglNK3qBMaFkQQCSsAgBDybqhWZnBxapg8K8DMDJuSZAMUFqkQSDMJdJJl3F6TRRVW7tBLglZqInLK3O/wAc7ocvUeiSABYNglXWJUrCkBBCaBWUREpgWjETFARhwbK7WoIKtUxiDgXi96SZIwARKALJTEopllSEMJaAQwLMyENJooqrd2glwSs0ABsxFCAhLMSn3qJEboww+EFiMje01ETllbnf453UhM4lWFW7I5rxuay+LtezhrL4u15uGv3/AN17nx/Nv5z917OGsvi7Xs4ay+Lv8ff/2Q==');
    --bg-event-img: url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDAAMCAgMCAgMDAwMEAwMEBQgFBQQEBQoHBwYIDAoMDAsKCwsNDhIQDQ4RDgsLEBYQERMUFRUVDA8XGBYUGBIUFRT/2wBDAQMEBAUEBQkFBQkUDQsNFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFBT/wgARCAAiABsDASIAAhEBAxEB/8QAGQAAAgMBAAAAAAAAAAAAAAAABQYAAwcB/8QAGAEAAwEBAAAAAAAAAAAAAAAAAQMEAgX/2gAMAwEAAhADEAAAAXusMiRcrVymc6EyNJWNKENasakHMBPOSGS2mTNH/8QAHxAAAgICAgMBAAAAAAAAAAAAAgMBBQQSABEGEzMx/9oACAEBAAEFAjbO4ukh3LiSn122cOEeejEFVTaSUp+d7XDnNV4s4UVFGWJYLnsGFENKsSUgArBPzlY7LWPWg8/Of//EAB8RAAICAgEFAAAAAAAAAAAAAAMEAAIBMRMFERJBUf/aAAgBAwEBPwFHpJ3sZJ38a/YRcqpsiLuLPcNOK2pdizJsktPcFuf/xAAbEQACAgMBAAAAAAAAAAAAAAABAgADESFBEP/aAAgBAgEBPwGy0JqKwYZEGOzXPf/EACoQAAEDAgMHBAMAAAAAAAAAAAEAAgMEERIhMgUiMVFhcZETM1KBgsHh/9oACAEBAAY/An7xyQdiOfVaihmgGtx1Ml/TZzUM76p9TPLm8Nfgseyjppjic72n/Lp9IKKRzpGCIu3odY/ifDJTN2jU1WcG0afOKn7lRST1AqnQXBfEbx/j+1fgrcynb0rb8WskIHhBrRYBBaR4WkeFpCPdf//EACAQAQACAgIDAAMAAAAAAAAAAAEAESExUbFBYXEQ8PH/2gAIAQEAAT8hrWZKlyiwa3H9iLz/AD59y5QDZWG1+QeA2T4YrJlK6qbp28/h8pJyHVdvU3+4U+s2uZv0+QuM+YoqFrwRw9tRzE8K+gaGm1ghdf7cTZVFpgKcq5guOibAwCwfZ//aAAwDAQACAAMAAAAQJi/Eh+//xAAfEQEAAQMEAwAAAAAAAAAAAAABEQAxURBBYXEhgaH/2gAIAQMBAT8QJhBQQsu8RjOfF6F6Aek2ThpUViyRnqftX4YjmNF3qv/EABwRAQACAQUAAAAAAAAAAAAAAAEAETEQIUFRYf/aAAgBAgEBPxBcpb1DWKMtjfF+Q4Cgjp//xAAfEAEAAgICAgMAAAAAAAAAAAABABEhQTFRcaFhgbH/2gAIAQEAAT8QKFBC7C2CrHywr1zEWvbjAq7K7TjByTmucY5p5qHYYZWXF/AGiUGyOwtvojFofs/WOtAwcCrYy91QsKZwRQoNUVQ1cvsXhQYIC3OR4hFFS1mWJjZNFgvMuROPD0JR4gKToVfb2u2KqW9fKMrp4FM6gmKwgWvbG9z1grOsmAMp/9k=');
}

/* ==========================================================================
   2. ESTILOS BASE
   ========================================================================== */
body {
    font-family: 'Segoe UI', Tahoma, sans-serif;
    background-color: var(--bg-body);
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    color: #333;
    overflow: hidden;
}

/* ==========================================================================
   3. TELAS E LAYOUTS
   ========================================================================== */

/* Tela de Setup */
#setup-screen {
    position: fixed; 
    z-index: 999;
    background: white; 
    padding: 40px; 
    border-radius: 15px;
    box-shadow: 0 0 50px rgba(0,0,0,0.9);
    text-align: center; 
    width: 450px;
    display: flex; 
    flex-direction: column; 
    gap: 15px;
    border: 4px solid var(--highlight);
}
.title-highlight { color: var(--highlight); margin-bottom: 0; }
.subtitle { margin-top: 0; color: #7f8c8d; }
.setup-group { margin-bottom: 20px; }
.setup-row { display: flex; align-items: center; justify-content: space-between; margin: 10px 0; border-bottom: 1px solid #eee; padding-bottom: 10px; }

/* Layout Principal */
#game-container {
    display: none; 
    width: 98vw; 
    height: 95vh;
    background: #fff; 
    border-radius: 10px; 
    overflow: hidden;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
}

#board-wrapper { 
    flex: 3; 
    position: relative; 
    background: #222; 
    overflow: hidden; 
    display: flex; 
    align-items: center; 
    justify-content: center; 
}
#board-area { display: grid; width: 100%; height: 100%; }

#sidebar { 
    flex: 1; 
    min-width: 340px; 
    background: #e0e6ed; 
    display: flex; 
    flex-direction: column; 
    padding: 15px; 
    gap: 10px; 
    border-left: 5px solid #bdc3c7; 
    box-shadow: inset 5px 0 10px rgba(0,0,0,0.05);
}

/* Paineis e Cards */
.panel { background: white; padding: 12px; border-radius: 8px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }
.text-center { text-align: center; }
.bg-white { background: #fff; }
.text-muted { color: #777; }
.my-5 { margin: 5px 0 10px 0; }

.log-panel { 
    flex-grow: 1; 
    display: flex; 
    flex-direction: column; 
    background: #333; 
    color: #0f0; 
    margin-top: 10px; 
}
.log-header { border-bottom: 1px solid #555; padding-bottom: 5px; }
#game-log { overflow-y: auto; font-size: 0.8rem; font-family: 'Courier New', monospace; height: 100%; padding-top: 5px; }
#d20-display { font-size: 2.5rem; font-weight: bold; color: var(--gold); text-shadow: 2px 2px 0 #333; }
#players-list { overflow-y: auto; max-height: 400px; margin-top: 10px; }

.player-card { 
    border-left: 5px solid #ccc; padding: 10px; margin-bottom: 10px; 
    font-size: 0.9rem; background: #fff; border-radius: 6px;
    transition: 0.3s;
    box-shadow: 0 2px 4px rgba(0,0,0,0.05);
}
.player-card.active { border-left-color: var(--highlight); background: #e3f2fd; transform: scale(1.02); }
.pc-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 5px; }
.pc-stats { display: flex; gap: 10px; font-size: 0.8rem; color: #555; }
.pc-team { display: flex; gap: 2px; margin-top: 5px; background: #eee; padding: 3px; border-radius: 4px; overflow-x: auto; }
.pc-mon-icon { width: 30px; height: 30px; border-radius: 50%; border: 2px solid #ccc; background: #fff; }
.pc-mon-icon.fainted { filter: grayscale(1); opacity: 0.6; border-color: red; }

/* Cards (Baralho) */
.card-display { background: var(--card-bg); color: white; padding: 10px; border-radius: 8px; margin-top: 5px; text-align: center; display: none; }
.card-item { 
    background: rgba(255,255,255,0.9); color: #333; padding: 8px; margin: 4px 0; 
    border-radius: 4px; cursor: pointer; display: flex; align-items: center; gap: 10px;
}
.card-item:hover { background: #fff; }
.card-icon { font-size: 1.5rem; }

/* ==========================================================================
   4. MAPA, TILES E TOKENS
   ========================================================================== */
.tile { position: relative; outline: 1px solid rgba(0,0,0,0.05); display: flex; justify-content: center; align-items: center; font-size: 10px; }

/* Tipos de Terreno */
.tile.grass { background-image: var(--bg-grass-img); background-size: cover; image-rendering: pixelated; }
.tile.water { background-image: var(--bg-water-img); background-size: cover; image-rendering: pixelated; }
.tile.ground { background-image: var(--bg-ground-img); background-size: cover; image-rendering: pixelated; }
.tile.city { background-image: var(--bg-city-img); background-size: cover; image-rendering: pixelated; }
.tile.event { background-image: var(--bg-event-img); background-size: 70%; background-position: center; background-repeat: no-repeat; background-color: #d35400; image-rendering: pixelated; }
.tile.gym { 
    background-image: var(--bg-gym-img); 
    background-size: cover; 
    image-rendering: pixelated; 
    border: 2px solid gold; 
} 
.tile.path { background: var(--tile-path); }

/* NPCs */
.tile.rocket { background-color: var(--bg-npc-rocket); border: 1px solid white; } .tile.rocket::after { content:'ü¶π'; font-size:12px; }
.tile.biker { background-color: var(--bg-npc-biker); border: 1px solid white; } .tile.biker::after { content:'üèçÔ∏è'; font-size:12px; }
.tile.young { background-color: var(--bg-npc-young); border: 1px solid white; } .tile.young::after { content:'üß¢'; font-size:12px; }
.tile.old { background-color: var(--bg-npc-old); border: 1px solid white; } .tile.old::after { content:'üë¥'; font-size:12px; }

.path-highlight { background: yellow !important; opacity: 0.7; z-index: 5; }

/* Jogador */
.player-token {
    position: absolute; width: 80%; height: 80%;
    border-radius: 50%; border: 2px solid white;
    display: flex; justify-content: center; align-items: center;
    font-size: 16px; background: white; z-index: 10;
    box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    transition: all 0.2s;
}
.active-token { transform: scale(1.3); z-index: 20; box-shadow: 0 0 15px var(--gold); border-color: var(--gold); }

/* ==========================================================================
   5. BOT√ïES E COMPONENTES UI
   ========================================================================== */
.btn { 
    width: 100%; padding: 12px; background: var(--highlight); color: white; 
    border: none; border-radius: 6px; cursor: pointer; font-weight: bold; 
    margin-top: 5px; font-size: 1rem; display: flex; justify-content: center; align-items: center; gap: 8px;
}
.btn:hover { filter: brightness(0.9); transform: translateY(-1px); }
.btn:disabled { background: #95a5a6; cursor: not-allowed; transform: none; }

.btn-shop { background: var(--gold); color: #444; }
.btn-secondary { background: #7f8c8d; }
.btn-attack { background: #e74c3c; }
.btn-items { background: #e67e22; }
.btn-cards { background: #8e44ad; }
.btn-run { background: #95a5a6; }

/* ==========================================================================
   6. MODAIS
   ========================================================================== */
.modal-overlay { 
    position: fixed; top: 0; left: 0; width: 100%; height: 100%; 
    background: rgba(0,0,0,0.85); z-index: 1000; 
    display: none; justify-content: center; align-items: center; 
}
.z-high { z-index: 1100; }
.modal-box { 
    background: #fff; padding: 25px; border-radius: 12px; width: 450px; 
    max-width: 95%; text-align: center; position: relative; 
    box-shadow: 0 0 30px rgba(0,0,0,0.5); 
}
.battle-box { background: #2c3e50; color: white; border: 3px solid #fff; max-width: 500px; }
.text-highlight { color: var(--highlight); }
.gold-text { color: goldenrod; font-weight: bold; font-size: 1.2rem; }
.small-text { font-size: 0.8rem; }
.scroll-list { max-height: 200px; overflow-y: auto; text-align: left; }
.text-left { text-align: left; }

/* Loja */
.shop-item { display: flex; justify-content: space-between; padding: 10px; border-bottom: 1px solid #eee; align-items: center; }
.item-icon { font-size: 1.5rem; margin-right: 10px; }
.inventory-section { margin-top: 15px; background: #f9f9f9; padding: 10px; border-radius: 8px; }
#inventory-list { font-size: 0.9rem; display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; }

/* Sele√ß√£o de Monstro */
.mon-select-item { display: flex; align-items: center; padding: 10px; border: 1px solid #ccc; margin: 5px 0; border-radius: 5px; cursor: pointer; }
.mon-select-item:hover { background: #f0f0f0; }
.mon-select-item.disabled { opacity: 0.5; cursor: not-allowed; background: #eee; }

/* Batalha */
#battle-title { color: #f1c40f; margin-top: 0; text-shadow: 2px 2px 0 #000; }
.battle-scene { 
    background: linear-gradient(180deg, #70c5ce 0%, #70c5ce 60%, #5a9e5a 60%, #5a9e5a 100%);
    border-radius: 10px; padding: 20px; margin-bottom: 15px; position: relative; height: 200px;
    display: flex; justify-content: space-between; align-items: flex-end; overflow: hidden;
    border: 4px solid #fff; box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
}
.battler { display: flex; flex-direction: column; align-items: center; position: relative; width: 120px; }
.self-end { align-self: flex-end; }
.self-start { align-self: flex-start; }

.battler img { width: 100px; height: 100px; image-rendering: pixelated; filter: drop-shadow(0 5px 5px rgba(0,0,0,0.4)); animation: float 3s ease-in-out infinite; }
.battler.shiny img { filter: hue-rotate(150deg) drop-shadow(0 0 10px gold); }
@keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }

.hp-container { background: #444; height: 12px; width: 100%; border-radius: 6px; margin-top: 5px; border: 2px solid #fff; }
.hp-fill { height: 100%; background: #2ecc71; width: 100%; transition: width 0.5s cubic-bezier(0.4, 0, 0.2, 1); }
.battle-info-box { background: rgba(0,0,0,0.7); color: white; padding: 5px 10px; border-radius: 15px; margin-bottom: 5px; font-size: 0.8rem; }
#battle-msg { height: 25px; margin: 5px 0; font-style: italic; color: #f1c40f; font-weight: bold; }
.battle-actions { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
#battle-bag { display: none; background: rgba(0,0,0,0.95); position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 10px; padding: 20px; box-sizing: border-box; z-index: 20; }
#battle-bag-list { display: flex; flex-direction: column; gap: 5px; }
.mt-15 { margin-top: 15px; }